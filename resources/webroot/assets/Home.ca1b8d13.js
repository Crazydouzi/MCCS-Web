var P=Object.defineProperty;var v=(f,l,u)=>l in f?P(f,l,{enumerable:!0,configurable:!0,writable:!0,value:u}):f[l]=u;var V=(f,l,u)=>(v(f,typeof l!="symbol"?l+"":l,u),u);import{V as S,a as F,b as p,c as g,d as E,e as I,f as T,g as w}from"./VSpacer.5d9273f7.js";import{b as C,a as h,V as r,c as _}from"./VList.8769e967.js";import{e as D,a8 as A,o as b,l as M,h as N,w as t,f as z,b as e,i as s,z as a,ac as o,ad as n}from"./index.4b0b5bea.js";import"./VAvatar.e4fefd39.js";class k{constructor(){V(this,"baseOptions",{method:"GET",headers:{"Content-Type":"application/json;charset=UTF-8"},keepalive:!0,cache:"no-cache"})}encode(l){return encodeURIComponent(l).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}paramsSerializer(l){let u=[];return Object.keys(l).forEach(d=>{u.push(this.encode(d)+"="+this.encode(l[d].toString()))}),u.join("&")}async request(l,u){let d=this.baseOptions,i=l.url;"headers"in l&&(d.headers=l.headers),u&&(l.method=="GET"||l.method=="DELETE"?i=i+"?"+this.paramsSerializer(u):d.body=JSON.stringify(u)),d.method=l.method;const m=await fetch(i,d);if(m.status>=200&&m.status<=300)return m.json();throw new Error("[API Request]Network error: "+m.statusText)}}const U=new k,B="http://localhost:8080/api",y={getCpuUsage:{url:B+"/system/getCpuUsage",method:"POST"},getSystemInfo:{url:B+"/system/getInfo",method:"POST"},getMemUsage:{url:B+"/system/getMemUsage",method:"POST"}},q=o("br",null,null,-1),L={style:{"font-size":"40px","text-align":"center"}},H=o("br",null,null,-1),R=o("p",null," CPU\u5E73\u5747\u4F7F\u7528\u7387",-1),j=o("br",null,null,-1),G={style:{"font-size":"40px"},align:"center"},J=o("br",null,null,-1),O=o("p",null," \u5185\u5B58\u4F7F\u7528\u7387",-1),Z=D({__name:"Home",setup(f){let l=A({data:{}}),u=A({data:{}}),d=A({data:{}});function i(){U.request(y.getCpuUsage).then(c=>{u.data=c.data}),U.request(y.getMemUsage).then(c=>{l.data=c.data})}function m(){U.request(y.getSystemInfo).then(c=>{d.data=c.data})}const x=setInterval(()=>{setTimeout(()=>{i()},1)},7e3);return b(()=>{i(),m()}),M(()=>{clearInterval(x)}),(c,$)=>(z(),N(S,null,{default:t(()=>[e(T,null,{default:t(()=>[e(F,{md:"12",sm:"12",xs:"12",lg:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(g,null,{default:t(()=>[s("\u5904\u7406\u5668")]),_:1}),e(C),e(E,null,{default:t(()=>[e(I,{rotate:360,size:200,width:8,"model-value":a(u).data.cpuUsage,color:"dark",class:"float-md-left float-lg-left float-xl-left mr-10"},{default:t(()=>[o("div",null,[q,o("p",L,n(a(u).data.cpuUsage)+"%",1),H,R])]),_:1},8,["model-value"]),e(p,{flat:""},{default:t(()=>[e(g,{class:"headline font-weight-bold"},{default:t(()=>[s(" \u6838\u5FC3\u6570\uFF1A "+n(a(d).data.cpuCoreCount),1)]),_:1}),e(h,{flat:""},{default:t(()=>[e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("CPU\u7B49\u5F85\u7387\uFF1A"+n(a(u).data.cpuWaitPer),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("CPU\u7CFB\u7EDF\u4F7F\u7528\u7387\uFF1A"+n(a(u).data.cpuSysUsage),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("CPU\u7528\u6237\u4F7F\u7528\u7387\uFF1A"+n(a(u).data.cpuUserUsage),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(F,{md:"12",sm:"12",xs:"12",lg:"6"},{default:t(()=>[e(p,null,{default:t(()=>[e(g,null,{default:t(()=>[s("\u5185\u5B58\u4FE1\u606F")]),_:1}),e(C),e(E,null,{default:t(()=>[e(I,{rotate:360,size:200,width:8,"model-value":a(l).data.memUsage,color:"dark",class:"float-md-left float-lg-left float-xl-left mr-10"},{default:t(()=>[o("div",null,[j,o("p",G,n(a(l).data.memUsage)+"%",1),J,O])]),_:1},8,["model-value"]),e(p,{flat:""},{default:t(()=>[e(g,{class:"headline font-weight-bold"},{default:t(()=>[s(" \u5360\u6BD4\uFF1A "+n(a(l).data.memUse)+" / "+n(a(l).data.memTotal),1)]),_:1}),e(h,{flat:""},{default:t(()=>[e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("\u7A7A\u95F2\u5185\u5B58\uFF1A"+n(a(l).data.memFree),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("\u5185\u5B58\u603B\u91CF\uFF1A"+n(a(l).data.memTotal),1)]),_:1})]),_:1}),e(r,null,{default:t(()=>[e(_,null,{default:t(()=>[s("JVM\u5360\u7528\u91CF\uFF1A"+n(a(l).data.jvmMemUse)+"MB",1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(w),e(p,{class:"mt-5"},{default:t(()=>[e(g,null,{default:t(()=>[s("\u7CFB\u7EDF\u4FE1\u606F")]),_:1}),e(C),e(T,null,{default:t(()=>[e(F,{cols:"12",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(h,null,{default:t(()=>[e(r,null,{default:t(()=>[s("\u4E3B\u673A\u540D\uFF1A "),o("p",null,n(a(d).data.HostName),1)]),_:1}),e(r,null,{default:t(()=>[s("\u4E3B\u673A\u5730\u5740\uFF1A "),o("p",null,n(a(d).data.HostAddress),1)]),_:1})]),_:1})]),_:1}),e(F,{cols:"12",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(h,null,{default:t(()=>[e(r,null,{default:t(()=>[s("CPU\u578B\u53F7\uFF1A"),o("p",null,n(a(d).data.cpuName),1)]),_:1}),e(r,null,{default:t(()=>[s("CPU\u6838\u5FC3\u6570\uFF1A"),o("p",null,n(a(d).data.cpuCoreCount),1)]),_:1}),e(r,null,{default:t(()=>[s("\u5185\u5B58\u603B\u6570\uFF1A"),o("p",null,n(a(d).data.totalMemory),1)]),_:1})]),_:1})]),_:1}),e(F,{cols:"12",md:"4",lg:"4",xl:"4"},{default:t(()=>[e(h,null,{default:t(()=>[e(r,null,{default:t(()=>[s("\u7CFB\u7EDF\u7C7B\u578B\uFF1A"),o("p",null,n(a(d).data.systemType),1)]),_:1}),e(r,null,{default:t(()=>[s("\u7CFB\u7EDF\u7248\u672C\uFF1A"),o("p",null,n(a(d).data.systemName),1)]),_:1}),e(r,null,{default:t(()=>[s("java\u7248\u672C(\u7CFB\u7EDF)\uFF1A"),o("p",null,n(a(d).data.javaVersion),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}});export{Z as default};
